var le=Object.defineProperty;var pe=(n,e,r)=>e in n?le(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var c=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var d=(n,e,r)=>pe(n,typeof e!="symbol"?e+"":e,r);var w=c((Be,D)=>{"use strict";var _e="\0",_="\0",C="",m=class{constructor(e){d(this,"_isDirected",!0);d(this,"_isMultigraph",!1);d(this,"_isCompound",!1);d(this,"_label");d(this,"_defaultNodeLabelFn",()=>{});d(this,"_defaultEdgeLabelFn",()=>{});d(this,"_nodes",{});d(this,"_in",{});d(this,"_preds",{});d(this,"_out",{});d(this,"_sucs",{});d(this,"_edgeObjs",{});d(this,"_edgeLabels",{});d(this,"_nodeCount",0);d(this,"_edgeCount",0);d(this,"_parent");d(this,"_children");e&&(this._isDirected=Object.hasOwn(e,"directed")?e.directed:!0,this._isMultigraph=Object.hasOwn(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.hasOwn(e,"compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[_]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(r=>Object.keys(e._in[r]).length===0)}sinks(){var e=this;return this.nodes().filter(r=>Object.keys(e._out[r]).length===0)}setNodes(e,r){var t=arguments,i=this;return e.forEach(function(s){t.length>1?i.setNode(s,r):i.setNode(s)}),this}setNode(e,r){return Object.hasOwn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=_,this._children[e]={},this._children[_][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var r=this;if(Object.hasOwn(this._nodes,e)){var t=i=>r.removeEdge(r._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){r.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(t),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r===void 0)r=_;else{r+="";for(var t=r;t!==void 0;t=this.parent(t))if(t===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==_)return r}}children(e=_){if(this._isCompound){var r=this._children[e];if(r)return Object.keys(r)}else{if(e===_)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return Object.keys(r)}successors(e){var r=this._sucs[e];if(r)return Object.keys(r)}neighbors(e){var r=this.predecessors(e);if(r){let i=new Set(r);for(var t of this.successors(e))i.add(t);return Array.from(i.values())}}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var t=this;Object.entries(this._nodes).forEach(function([a,o]){e(a)&&r.setNode(a,o)}),Object.values(this._edgeObjs).forEach(function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,t.edge(a))});var i={};function s(a){var o=t.parent(a);return o===void 0||r.hasNode(o)?(i[a]=o,o):o in i?i[o]:s(o)}return this._isCompound&&r.nodes().forEach(a=>r.setParent(a,s(a))),r}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,r){var t=this,i=arguments;return e.reduce(function(s,a){return i.length>1?t.setEdge(s,a,r):t.setEdge(s,a),a}),this}setEdge(){var e,r,t,i,s=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,t=a.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=a,r=arguments[1],t=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,r=""+r,t!==void 0&&(t=""+t);var o=g(this._isDirected,e,r,t);if(Object.hasOwn(this._edgeLabels,o))return s&&(this._edgeLabels[o]=i),this;if(t!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=s?i:this._defaultEdgeLabelFn(e,r,t);var u=ve(this._isDirected,e,r,t);return e=u.v,r=u.w,Object.freeze(u),this._edgeObjs[o]=u,x(this._preds[r],e),x(this._sucs[e],r),this._in[r][o]=u,this._out[e][o]=u,this._edgeCount++,this}edge(e,r,t){var i=arguments.length===1?b(this._isDirected,arguments[0]):g(this._isDirected,e,r,t);return this._edgeLabels[i]}edgeAsObj(){let e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,r,t){var i=arguments.length===1?b(this._isDirected,arguments[0]):g(this._isDirected,e,r,t);return Object.hasOwn(this._edgeLabels,i)}removeEdge(e,r,t){var i=arguments.length===1?b(this._isDirected,arguments[0]):g(this._isDirected,e,r,t),s=this._edgeObjs[i];return s&&(e=s.v,r=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],q(this._preds[r],e),q(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var t=this._in[e];if(t){var i=Object.values(t);return r?i.filter(s=>s.v===r):i}}outEdges(e,r){var t=this._out[e];if(t){var i=Object.values(t);return r?i.filter(s=>s.w===r):i}}nodeEdges(e,r){var t=this.inEdges(e,r);if(t)return t.concat(this.outEdges(e,r))}};function x(n,e){n[e]?n[e]++:n[e]=1}function q(n,e){--n[e]||delete n[e]}function g(n,e,r,t){var i=""+e,s=""+r;if(!n&&i>s){var a=i;i=s,s=a}return i+C+s+C+(t===void 0?_e:t)}function ve(n,e,r,t){var i=""+e,s=""+r;if(!n&&i>s){var a=i;i=s,s=a}var o={v:i,w:s};return t&&(o.name=t),o}function b(n,e){return g(n,e.v,e.w,e.name)}D.exports=m});var F=c((Xe,L)=>{L.exports="2.2.5-pre"});var T=c((Ze,A)=>{A.exports={Graph:w(),version:F()}});var P=c(($e,M)=>{var ge=w();M.exports={write:Ee,read:me};function Ee(n){var e={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:we(n),edges:be(n)};return n.graph()!==void 0&&(e.value=structuredClone(n.graph())),e}function we(n){return n.nodes().map(function(e){var r=n.node(e),t=n.parent(e),i={v:e};return r!==void 0&&(i.value=r),t!==void 0&&(i.parent=t),i})}function be(n){return n.edges().map(function(e){var r=n.edge(e),t={v:e.v,w:e.w};return e.name!==void 0&&(t.name=e.name),r!==void 0&&(t.value=r),t})}function me(n){var e=new ge(n.options).setGraph(n.value);return n.nodes.forEach(function(r){e.setNode(r.v,r.value),r.parent&&e.setParent(r.v,r.parent)}),n.edges.forEach(function(r){e.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),e}});var S=c((er,G)=>{G.exports=Oe;function Oe(n){var e={},r=[],t;function i(s){Object.hasOwn(e,s)||(e[s]=!0,t.push(s),n.successors(s).forEach(i),n.predecessors(s).forEach(i))}return n.nodes().forEach(function(s){t=[],i(s),t.length&&r.push(t)}),r}});var j=c((rr,V)=>{var O=class{constructor(){d(this,"_arr",[]);d(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var r=this._keyIndices[e];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,r){var t=this._keyIndices;if(e=String(e),!Object.hasOwn(t,e)){var i=this._arr,s=i.length;return t[e]=s,i.push({key:e,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,r){var t=this._keyIndices[e];if(r>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[t].priority+" New: "+r);this._arr[t].priority=r,this._decrease(t)}_heapify(e){var r=this._arr,t=2*e,i=t+1,s=e;t<r.length&&(s=r[t].priority<r[s].priority?t:s,i<r.length&&(s=r[i].priority<r[s].priority?i:s),s!==e&&(this._swap(e,s),this._heapify(s)))}_decrease(e){for(var r=this._arr,t=r[e].priority,i;e!==0&&(i=e>>1,!(r[i].priority<t));)this._swap(e,i),e=i}_swap(e,r){var t=this._arr,i=this._keyIndices,s=t[e],a=t[r];t[e]=a,t[r]=s,i[a.key]=e,i[s.key]=r}};V.exports=O});var y=c((ir,z)=>{var je=j();z.exports=Ne;var ye=()=>1;function Ne(n,e,r,t){return ke(n,String(e),r||ye,t||function(i){return n.outEdges(i)})}function ke(n,e,r,t){var i={},s=new je,a,o,u=function(h){var f=h.v!==a?h.v:h.w,l=i[f],p=r(h),v=o.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+p);v<l.distance&&(l.distance=v,l.predecessor=a,s.decrease(f,v))};for(n.nodes().forEach(function(h){var f=h===e?0:Number.POSITIVE_INFINITY;i[h]={distance:f},s.add(h,f)});s.size()>0&&(a=s.removeMin(),o=i[a],o.distance!==Number.POSITIVE_INFINITY);)t(a).forEach(u);return i}});var W=c((sr,U)=>{var Ie=y();U.exports=Ce;function Ce(n,e,r){return n.nodes().reduce(function(t,i){return t[i]=Ie(n,i,e,r),t},{})}});var H=c((nr,Y)=>{Y.exports=xe;function xe(n,e,r){if(n[e].predecessor!==void 0)throw new Error("Invalid source vertex");if(n[r].predecessor===void 0&&r!==e)throw new Error("Invalid destination vertex");return{weight:n[r].distance,path:qe(n,e,r)}}function qe(n,e,r){for(var t=[],i=r;i!==e;)t.push(i),i=n[i].predecessor;return t.push(e),t.reverse()}});var N=c((ar,K)=>{K.exports=De;function De(n){var e=0,r=[],t={},i=[];function s(a){var o=t[a]={onStack:!0,lowlink:e,index:e++};if(r.push(a),n.successors(a).forEach(function(f){Object.hasOwn(t,f)?t[f].onStack&&(o.lowlink=Math.min(o.lowlink,t[f].index)):(s(f),o.lowlink=Math.min(o.lowlink,t[f].lowlink))}),o.lowlink===o.index){var u=[],h;do h=r.pop(),t[h].onStack=!1,u.push(h);while(a!==h);i.push(u)}}return n.nodes().forEach(function(a){Object.hasOwn(t,a)||s(a)}),i}});var Q=c((or,R)=>{var Le=N();R.exports=Fe;function Fe(n){return Le(n).filter(function(e){return e.length>1||e.length===1&&n.hasEdge(e[0],e[0])})}});var J=c((ur,B)=>{B.exports=Te;var Ae=()=>1;function Te(n,e,r){return Me(n,e||Ae,r||function(t){return n.outEdges(t)})}function Me(n,e,r){var t={},i=n.nodes();return i.forEach(function(s){t[s]={},t[s][s]={distance:0},i.forEach(function(a){s!==a&&(t[s][a]={distance:Number.POSITIVE_INFINITY})}),r(s).forEach(function(a){var o=a.v===s?a.w:a.v,u=e(a);t[s][o]={distance:u,predecessor:s}})}),i.forEach(function(s){var a=t[s];i.forEach(function(o){var u=t[o];i.forEach(function(h){var f=u[s],l=a[h],p=u[h],v=f.distance+l.distance;v<p.distance&&(p.distance=v,p.predecessor=l.predecessor)})})}),t}});var k=c((hr,Z)=>{function X(n){var e={},r={},t=[];function i(s){if(Object.hasOwn(r,s))throw new E;Object.hasOwn(e,s)||(r[s]=!0,e[s]=!0,n.predecessors(s).forEach(i),delete r[s],t.push(s))}if(n.sinks().forEach(i),Object.keys(e).length!==n.nodeCount())throw new E;return t}var E=class extends Error{constructor(){super(...arguments)}};Z.exports=X;X.CycleException=E});var re=c((dr,ee)=>{var $=k();ee.exports=Pe;function Pe(n){try{$(n)}catch(e){if(e instanceof $.CycleException)return!1;throw e}return!0}});var I=c((cr,ie)=>{ie.exports=Ge;function Ge(n,e,r){Array.isArray(e)||(e=[e]);var t=n.isDirected()?o=>n.successors(o):o=>n.neighbors(o),i=r==="post"?Se:Ve,s=[],a={};return e.forEach(o=>{if(!n.hasNode(o))throw new Error("Graph does not have node: "+o);i(o,t,a,s)}),s}function Se(n,e,r,t){for(var i=[[n,!1]];i.length>0;){var s=i.pop();s[1]?t.push(s[0]):Object.hasOwn(r,s[0])||(r[s[0]]=!0,i.push([s[0],!0]),te(e(s[0]),a=>i.push([a,!1])))}}function Ve(n,e,r,t){for(var i=[n];i.length>0;){var s=i.pop();Object.hasOwn(r,s)||(r[s]=!0,t.push(s),te(e(s),a=>i.push(a)))}}function te(n,e){for(var r=n.length;r--;)e(n[r],r,n);return n}});var ne=c((fr,se)=>{var ze=I();se.exports=Ue;function Ue(n,e){return ze(n,e,"post")}});var oe=c((lr,ae)=>{var We=I();ae.exports=Ye;function Ye(n,e){return We(n,e,"pre")}});var he=c((pr,ue)=>{var He=w(),Ke=j();ue.exports=Re;function Re(n,e){var r=new He,t={},i=new Ke,s;function a(u){var h=u.v===s?u.w:u.v,f=i.priority(h);if(f!==void 0){var l=e(u);l<f&&(t[h]=s,i.decrease(h,l))}}if(n.nodeCount()===0)return r;n.nodes().forEach(function(u){i.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),i.decrease(n.nodes()[0],0);for(var o=!1;i.size()>0;){if(s=i.removeMin(),Object.hasOwn(t,s))r.setEdge(s,t[s]);else{if(o)throw new Error("Input graph is not connected: "+n);o=!0}n.nodeEdges(s).forEach(a)}return r}});var ce=c((_r,de)=>{de.exports={components:S(),dijkstra:y(),dijkstraAll:W(),extractPath:H(),findCycles:Q(),floydWarshall:J(),isAcyclic:re(),postorder:ne(),preorder:oe(),prim:he(),tarjan:N(),topsort:k()}});var fe=T();module.exports={Graph:fe.Graph,json:P(),alg:ce(),version:fe.version};
//# sourceMappingURL=graphlib.cjs.js.map
